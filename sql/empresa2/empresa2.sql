CREATE DATABASE EMPRESA2;

USE EMPRESA2;


CREATE TABLE EMPREGADO(
	MATRICULA INT NOT NULL,
	NOME VARCHAR(200) NOT NULL,
	DATANASC CHAR(10),
	ENDERECO VARCHAR(250),
	SEXO CHAR(1) NOT NULL,
	SALARIO DECIMAL(10,2) NOT NULL,
	MATSUPERVISOR INT,
	CODIGODEPTO INT,
	PRIMARY KEY (MATRICULA),
	FOREIGN KEY (MATSUPERVISOR) REFERENCES EMPREGADO(MATRICULA)
);

CREATE TABLE DEPARTAMENTO(
	CODIGO INT, 
	NOME VARCHAR(200), 
	MATRICULAGERENTE INT,
	PRIMARY KEY (CODIGO),
	FOREIGN KEY (MATRICULAGERENTE) REFERENCES EMPREGADO(MATRICULA)
);

ALTER TABLE EMPREGADO ADD FOREIGN KEY (CODIGODEPTO) REFERENCES DEPARTAMENTO(CODIGO);

CREATE TABLE DEPENDENTE(
	MATRICULAEMP INT, 
	CODIGODEPENDENTE INT, 
	NOME VARCHAR(200),
	IDADE INT,
	PRIMARY KEY (MATRICULAEMP, CODIGODEPENDENTE),
	FOREIGN KEY (MATRICULAEMP) REFERENCES EMPREGADO(MATRICULA)
);

CREATE TABLE PROJETO(
	CODIGO INT,
	NOME VARCHAR(200),
	LOCALIZACAO VARCHAR(200),
	CODIGODEPTO INT,
	PRIMARY KEY (CODIGO),
	FOREIGN KEY (CODIGODEPTO) REFERENCES DEPARTAMENTO(CODIGO)
);

CREATE TABLE TRABALHANO(
	MATRICULAEMP INT,
	CODIGOPROJ INT,
	HORAS INT,
	PRIMARY KEY (MATRICULAEMP, CODIGOPROJ),
	FOREIGN KEY (MATRICULAEMP) REFERENCES EMPREGADO(MATRICULA),
	FOREIGN KEY (CODIGOPROJ) REFERENCES PROJETO(CODIGO)
);


INSERT INTO DEPARTAMENTO(Codigo, Nome, MATRICULAGERENTE)
VALUES(1, 'Direção Geral', null);
INSERT INTO DEPARTAMENTO(Codigo, Nome, MATRICULAGERENTE)
VALUES(2, 'Produção', null);
INSERT INTO DEPARTAMENTO(Codigo, Nome, MATRICULAGERENTE)
VALUES(3, 'Desenvolvimento', null);


INSERT INTO PROJETO(Codigo, Nome, Localizacao, CodigoDepto)
VALUES(1, 'Tamar', 'Itaúna, ES', 2);
INSERT INTO PROJETO(Codigo, Nome, Localizacao, CodigoDepto)
VALUES(2, 'Jubarte', 'Abrolhos, BA', 2);
INSERT INTO PROJETO(Codigo, Nome, Localizacao, CodigoDepto)
VALUES(3, 'Pantanal', 'Bonito, MS', 3);

INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(1, 'Maria', '22/12/75', 'Rua A, 9', 'F', 2000, null, 1);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(2, 'Marcus', '12/11/70', 'Rua B, 2', 'M', 1500, 1, 1);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(3, 'Abel', '13/11/60', 'Rua Z, 6', 'M', 4000, 1, 1);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(4, 'Carlos', '05/03/66', 'Rua J, 8', 'M', 3000, 2, 3);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(5, 'Édson', '16/04/70', 'Rua M, 9', 'M', 1000, 3, 2);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(6, 'Flávio', '19/09/73', 'Rua R, 3', 'M', 4000, 3, 2);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(7, 'Gilda', '20/10/74', 'Rua S, 4', 'F', 1000, 3, 2);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(8, 'Hilton', '01/11/65', 'Rua Z, 7', 'M', 2000, 2, 3);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(9, 'Irene', '05/02/50', 'Rua B, 3','M', 3000, 2, 3);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(10, 'José', '07/02/57', 'Rua M, 10', 'F', 4000, 3, 3);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(11, 'Kátia', '12/06/70', 'Rua W, 19', 'F', 1000, 2, 2);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(12, 'Noel', '13/07/68', 'Rua Y, 78', 'M', 2000, 3, 3);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(13, 'Otto', '15/03/75', 'Rua B, 10', 'M', 2000, 3, 3);
INSERT INTO EMPREGADO(Matricula, Nome, DataNasc, Endereco, Sexo, Salario, MatSupervisor, CodigoDepto)
VALUES(14, 'Ana', '07/12/73', 'Rua D, 12', 'F', 2000, 3, 1);


INSERT INTO DEPENDENTE(MATRICULAEMP, CodigoDependente, Nome, Idade)
VALUES(1, 1, 'Lucas', 7);
INSERT INTO DEPENDENTE(MATRICULAEMP, CodigoDependente, Nome, Idade)
VALUES(2, 1, 'Clara', 1);
INSERT INTO DEPENDENTE(MATRICULAEMP, CodigoDependente, Nome, Idade)
VALUES(2, 2, 'Patrick', 5);
INSERT INTO DEPENDENTE(MATRICULAEMP, CodigoDependente, Nome, Idade)
VALUES(3, 1, 'Alan', 10);


INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (4, 3, 40);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (5,1,40);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (6,1,40);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (7,2,40);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (8,3,40);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (9,3,20);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (10,3,20);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (11,2,40);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (12,3,20);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (13,3,20);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (9,1,20);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (10,1,20);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (12,2,20);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (13,2,20);
INSERT INTO TRABALHANO(MATRICULAEMP,CODIGOPROJ, Horas)
VALUES (14,3,40);
